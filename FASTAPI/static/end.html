<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>End Result</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style/index.css" />
    <link rel="stylesheet" href="../style/Circle.css" />
    <link rel="stylesheet" href="../style/Animation.css" />
</head>

<body>
    <script>
        async function fetchItems() {
            const response = await fetch(window.location.href); 
            const data = await response.json();
            const result_txt = document.getElementById("result_txt");
            result_txt.textContent = data["endresult"];
            const end_img = document.getElementById("end_img");
            end_img.src = "/get_img/" + data["result_img"]

        }
        fetchItems();
        document.addEventListener('DOMContentLoaded', function() {
            fetchItems();
            // 5초마다 페이지 새로고침
            setInterval(fetchItems, 5000);
        });
</script>
    <div>
        <div style="margin-top: -30vw ; width: 100% ; height: 50vw ; z-index: -1 ; display: flex ;
            align-items: center ; margin-bottom: 8vw">
            <div class="circle" style=" width: 50vw ; height: 100% ; margin: 0 auto ">
            </div>
            <img class="rotating-image" id="end_img" src='../img/photo_0.PNG' alt="돼지국밥" style="position: absolute ;
                width: 20vw ; height: 20vw ; top: 12vw ; left: 50% ; transform: translateX(-50%) " />
        </div>
        <div style=" position: absolute ; left: 0 ; top: 15vh ; width: 100% ">
            <h4 style=" display: flex ; flex-direction: column ; align-items: center ">추천 메뉴</h4>
        </div>
        <div style="align-items: center; margin-top: 25vh;">
            <div style=" display: flex ; flex-direction: column ; align-items: center ">
                <h1 id="result_txt" class="start end" style=" margin: 3vh 0 ">이제 정말 배고파</h1>
            </div>
        </div>
    </div>
</body>

</html>