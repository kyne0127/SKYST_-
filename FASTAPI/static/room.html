<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room</title>
</head>
<body>
    <h1>Room Information</h1>
    <h2>Room Details:</h2>
    <p id="room-info"></p>

    <h2>Users:</h2>
    <ul>
        {% for room in rooms %}
        {% if room.id == room_id %}
        <li>Room ID: {{ room.id }}</li>
        <li>Owner: {{ room.owner }}</li>
        <li>Number of Users: {{ room.usernum }}</li>
        <li>Users: {{ room.users }}</li>
        {% endif %}
        {% endfor %}
    </ul>

    <script>
        // 쿠키에서 방 정보 가져오기
        var roomCookie = document.cookie.split(';').find(cookie => cookie.trim().startsWith('example_cookie'));
        var roomInfo = roomCookie ? JSON.parse(roomCookie.split('=')[1]) : {};

        // 방 정보 표시
        var roomInfoElement = document.getElementById("room-info");
        if (roomInfoElement) {
            roomInfoElement.textContent = "Room Name: " + roomInfo.room_name + ", Room ID: " + roomInfo.room_id;
        }

        // 사용자 목록 가져와서 표시
        var userListElement = document.getElementById("user-list");
        if (userListElement) {
            // 사용자 목록 문자열
            var usersString = "['User1', 'User2', 'User3']";  // 실제로는 쿠키나 서버에서 가져와야 합니다.
            // 문자열을 JavaScript 배열로 변환
            var users = eval(usersString);

            // 각 사용자를 목록에 추가
            users.forEach(function(user) {
                var listItem = document.createElement("li");
                listItem.textContent = user;
                userListElement.appendChild(listItem);
            });
        }
    </script>
        <form action="/get-play" method="post">
            <button type="submit">Play</button>
        </form>
</body>
</html>